# Default values for castai-agent.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

replicaCount: 1
namespace: "castai-agent"

image:
  repository: castai/agent
  pullPolicy: IfNotPresent

nameOverride: ""
fullnameOverride: castai-agent

# Specifies whether a namespace should be created
createNamespace: true

serviceAccount:
  # Specifies whether a service account should be created
  create: true
  # Annotations to add to the service account
  annotations: {}
  # The name of the service account to use.
  # If not set and create is true, a name is generated using the fullname template
  name: ""

podAnnotations: {}

# Should the cluster proportional vertical autoscaler be enabled for the agent deployment
# https://github.com/kubernetes-sigs/cluster-proportional-vertical-autoscaler
clusterVPA:
  enabled: true

resources: {}

additionalEnv:
  PPROF_PORT: "6060"

# Token to be used for authorizing agent access to the API
apiKey: ""

# URL to the API server
apiURL: ""

# Name of the Kubernetes service provider
# one of: "eks", "gks", "aks", "kops"
provider: ""

# Agent actions are responsible for write operations including drain, patch, delete node.
agentActions:
  enabled: false
  apiTelemetryURL: ""
  clusterID: ""
  podAnnotations: {}
  additionalEnv:
    PPROF_PORT: "6060"
    LOG_LEVEL: "5"
  image:
    repository: castai/agent-actions
    tag: v0.0.0-alpha2
    pullPolicy: IfNotPresent
  resources:
    requests:
      cpu: 100m
    limits:
      cpu: 500m
  serviceAccount:
    # Specifies whether a service account should be created
    create: true
    # Annotations to add to the service account
    annotations: {}
    # The name of the service account to use.
    # If not set and create is true, a name is generated using the fullname template
    name: ""
